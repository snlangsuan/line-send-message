(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{169:function(e,t,n){var content=n(176);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(49).default)("36873827",content,!0,{sourceMap:!1})},170:function(e,t,n){var r=n(26),o=n(66),c=n(27),l=n(20),d=n(172);e.exports=function(e,t){var n=1==e,f=2==e,h=3==e,v=4==e,m=6==e,_=5==e||m,x=t||d;return function(t,d,y){for(var k,I,w=c(t),A=o(w),M=r(d,y,3),S=l(A.length),C=0,N=n?x(t,S):f?x(t,0):void 0;S>C;C++)if((_||C in A)&&(I=M(k=A[C],C,w),e))if(n)N[C]=I;else if(I)switch(e){case 3:return!0;case 5:return k;case 6:return C;case 2:N.push(k)}else if(v)return!1;return m?-1:h||v?v:N}}},171:function(e,t,n){"use strict";var r=n(8),o=n(170)(5),c=!0;"find"in[]&&Array(1).find(function(){c=!1}),r(r.P+r.F*c,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(65)("find")},172:function(e,t,n){var r=n(173);e.exports=function(e,t){return new(r(e))(t)}},173:function(e,t,n){var r=n(9),o=n(103),c=n(2)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[c])&&(t=void 0)),void 0===t?Array:t}},174:function(e,t,n){"use strict";var r=n(8),o=n(170)(6),c="findIndex",l=!0;c in[]&&Array(1)[c](function(){l=!1}),r(r.P+r.F*l,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(65)(c)},175:function(e,t,n){"use strict";var r=n(169);n.n(r).a},176:function(e,t,n){(e.exports=n(48)(!1)).push([e.i,".app-actions{width:100%;position:fixed;bottom:0;left:0;padding:8px;text-align:center;background-color:#fff}.app-codes{width:100%;height:100%;padding:8px;outline:none}.list-seleted{background-color:#2cb900}.list-seleted .v-icon,.list-seleted .v-list__tile__title{color:#fff!important}.error-messages .v-icon,.error-messages span{color:#dd2c00!important}",""])},177:function(e,t,n){"use strict";n.r(t);n(171),n(174);function r(e){return function(e){if(Array.isArray(e)){for(var i=0,t=new Array(e.length);i<e.length;i++)t[i]=e[i];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n(34);var o={data:function(){return{token:"",userIds:[],messages:[],selected:null,errors:{token:"",userIds:"",messages:""}}},computed:{canAdd:function(){var e=this.messageCanUse();return this.messages.length<5&&e.length===this.messages.length}},watch:{selected:{handler:function(e){if(e)try{var data=JSON.parse(e.message);this.selected.name=data.type||""}catch(e){}},deep:!0},messages:function(e){e.length>0&&(this.errors.messages="")}},mounted:function(){var e=this.$refs.app_actions;this.$refs.app_codes.style.marginBottom=e.clientHeight+"px"},methods:{removeUser:function(e){this.userIds.splice(this.userIds.indexOf(e),1),this.userIds=r(this.userIds)},messageCanUse:function(){return this.messages.reduce(function(e,t){try{e.push(JSON.parse(t.message))}catch(e){}return e},[])},addMessage:function(){this.messages.length>5||(this.clearSelected(),this.messages.push({id:Date.now(),message:"",name:"",icon:"format_size",selected:!0}),this.selected=this.messages[this.messages.length-1])},removeMessage:function(e){var t=this.messages.findIndex(function(t){return t.id===e});this.messages.splice(t,1)},clearSelected:function(){var e=this.messages.find(function(e){return e.selected});e&&(e.selected=!1)},selectMessage:function(e){this.clearSelected();var t=this.messages.find(function(t){return t.id===e});t&&(t.selected=!0,this.selected=t)},sendMessage:function(){this.token||(this.errors.token="LINE channel access token is required"),console.log(this.userIds),(!this.userIds||this.userIds.length<1)&&(this.errors.userIds="User ID not found"),this.messageCanUse()<1&&(this.messages=[]),(!this.messages||this.messages.length<1)&&(this.errors.messages="Messages not found"),this.token&&this.userIds.length>0&&this.messages.length>0&&this.$axios({method:"post",url:"https://api.line.me/v2/bot/message/push",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(this.token)},data:{to:this.userIds,messages:this.messages}}).then(function(e){console.log(e)}).catch(function(e){console.error(e)})}},head:function(){return{title:"Test Send LINE Message"}}},c=(n(175),n(16)),component=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{"pt-3":"","pr-3":"",xs6:""}},[n("div",[n("v-text-field",{attrs:{"error-messages":e.errors.token,label:"LINE channel access token"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}),e._v(" "),n("v-combobox",{attrs:{"error-messages":e.errors.userIds,chips:"",multiple:"",label:"ID of the target recipient"},scopedSlots:e._u([{key:"selection",fn:function(data){return[n("v-chip",{attrs:{selected:data.selected,close:""},on:{input:function(t){return e.removeUser(data.item)}}},[n("strong",[e._v(e._s(data.item))]),e._v("Â \n            ")])]}}]),model:{value:e.userIds,callback:function(t){e.userIds=t},expression:"userIds"}}),e._v(" "),n("div",{class:{"error-messages":!!e.errors.messages||e.errors.messages.length>0},staticStyle:{width:"100%",display:"flex","align-items":"center"}},[n("span",{staticClass:"title"},[n("v-icon",{attrs:{medium:""}},[e._v("chat_bubble")]),e._v("\n            Messages\n          ")],1),e._v(" "),n("v-spacer"),e._v(" "),n("v-btn",{staticClass:"mr-0",attrs:{flat:"",icon:""}},[n("v-icon",{attrs:{disabled:!e.canAdd},on:{click:e.addMessage}},[e._v("add")])],1)],1),e._v(" "),n("v-list",{staticStyle:{width:"100%",background:"transparent !important"}},[e.messages.length<1&&e.errors.messages?n("div",{staticClass:"error--text text-xs-center"},[e._v(e._s(e.errors.messages))]):e._e(),e._v(" "),e._l(e.messages,function(t,r){return[n("v-list-tile",{key:t.id,class:{"list-seleted":t.selected},attrs:{avatar:""},on:{click:function(n){return e.selectMessage(t.id)}}},[n("v-list-tile-avatar",[n("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(t.name)}})],1),e._v(" "),n("v-list-tile-action",[n("v-icon",{attrs:{small:""},on:{click:function(n){return e.removeMessage(t.id)}}},[e._v("delete")])],1)],1),e._v(" "),r+1<e.messages.length?n("v-divider",{key:r}):e._e()]})],2)],1)]),e._v(" "),n("v-flex",{ref:"app_codes",attrs:{"pl-3":"",xs6:""}},[e.selected?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selected.message,expression:"selected.message"}],staticClass:"app-codes",domProps:{value:e.selected.message},on:{input:function(t){t.target.composing||e.$set(e.selected,"message",t.target.value)}}}):e._e()])],1),e._v(" "),n("div",{ref:"app_actions",staticClass:"app-actions"},[n("v-btn",{attrs:{color:"primary"},on:{click:e.sendMessage}},[e._v("Send")]),e._v(" "),n("v-btn",[e._v("Clear")])],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);